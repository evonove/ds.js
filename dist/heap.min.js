!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):(a.Ds=a.Ds||{},a.Ds.BinaryHeap=b())}(this,function(){"use strict";var a=function(a){this.content=[],this.scoreFunction=a,this.push=function(a){this.content.push(a),this.bubbleUp(this.content.length-1)},this.pop=function(){var a=this.content[0],b=this.content.pop();return this.content.length>0&&(this.content[0]=b,this.sinkDown(0)),a},this.remove=function(a){for(var b=this.content.length,c=0;b>c;c++)if(this.content[c]===a){var d=this.content.pop();if(c===b-1)break;this.content[c]=d,this.bubbleUp(c),this.sinkDown(c);break}},this.size=function(){return this.content.length},this.bubbleUp=function(a){for(var b=this.content[a],c=this.scoreFunction(b);a>0;){var d=Math.floor((a+1)/2)-1,e=this.content[d];if(c>=this.scoreFunction(e))break;this.content[d]=b,this.content[a]=e,a=d}},this.sinkDown=function(a){for(var b=this.content.length,c=this.content[a],d=this.scoreFunction(c);;){var e,f=2*(a+1),g=f-1,h=null;if(b>g){var i=this.content[g];e=this.scoreFunction(i),d>e&&(h=g)}if(b>f){var j=this.content[f],k=this.scoreFunction(j);(null===h?d:e)>k&&(h=f)}if(null===h)break;this.content[a]=this.content[h],this.content[h]=c,a=h}}};return a});