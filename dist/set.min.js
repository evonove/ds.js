!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):(a.Ds=a.Ds||{},a.Ds.Set=b())}(this,function(){"use strict";var a=function(){function a(){throw new Error("Illegal operation for Set")}function b(a){return typeof a+" "+(a instanceof Object?a._hash||(a._hash=++c):a.toString())}var c=0,d={},e=0;this["in"]=function(a){var c=b(a);return"undefined"!=typeof d[c]},this.add=function(a){var c=b(a);return"undefined"==typeof d[c]&&(e+=1),d[c]=a,this},this.update=function(a){for(var c=0;c<a.length;c++){var f=b(a[c]);"undefined"==typeof d[f]&&(e+=1),d[f]=a[c]}return this},this.remove=function(a){var c=b(a),f=d[c];if("undefined"==typeof f)throw new Error("KeyError: object "+f+" is not stored");return e-=1,delete d[c],this},this.discard=function(a){try{this.remove(a)}catch(b){}return this},this.clear=function(){for(var a in d)d.hasOwnProperty(a)&&this.remove(d[a]);return this},this.items=function(){return Object.keys(d).map(function(a){return d[a]})},Object.defineProperty(this,"size",{get:function(){return e},set:function(){a()}})};return a});